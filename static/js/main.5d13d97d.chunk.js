(this["webpackJsonparduino-sensors-react-redux-firestore"]=this["webpackJsonparduino-sensors-react-redux-firestore"]||[]).push([[0],{132:function(e,t,a){e.exports=a(151)},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),i=a.n(o),c=a(12),l=a(38),s=a(94),u=a(6);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={login:!1,details:{}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return{login:!0,details:t.payload};case"SET_LOGIN":return d({},e,{login:!0});case"CLEAR_LOGIN":return d({},e,{login:!1});case"LOGIN_USER":return{login:!0,details:t.payload};case"LOGOUT_USER":return p;default:return e}};function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E={settings:{darkTheme:!1,devMenu:!1},loading:!1,error:{}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DARK_THEME":return g({},e,{settings:g({},e.settings,{darkTheme:t.payload})});case"SET_DEV_MENU":return g({},e,{settings:g({},e.settings,{devMenu:t.payload})});case"START_LOADING":return g({},e,{loading:!0});case"STOP_LOADING":return g({},e,{loading:!1});case"SET_ERROR":return g({},e,{loading:!1,error:t.payload});case"CLEAR_ERROR":return g({},e,{loading:!1,error:{}});default:return e}},v=Object(l.c)({user:f,ui:h}),O=a(208),y=a(17),j=a(40),x=a(59),w=a(68),k=(a(141),a(143),{apiKey:"AIzaSyDRNscvyAJWG8BtnpCBw3tCpYEWem2jSAw",authDomain:"arduino-sensors-754e5.firebaseapp.com",databaseURL:"https://arduino-sensors-754e5.firebaseio.com",projectId:"arduino-sensors-754e5",storageBucket:"arduino-sensors-754e5.appspot.com",messagingSenderId:"940139731983",appId:"1:940139731983:web:3f15975a429e3d9ad7577a"}),C=new function e(){var t=this;Object(x.a)(this,e),this.login=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.logout=function(){return t.auth.signOut()},this.signup=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.getCurrentUser=function(){return t.auth.currentUser},this.addData=function(e,a){return t.fire.collection(e).add(a)},this.addDocumentData=function(e,a,n){return t.fire.collection(e).doc(a).set(n)},this.getDocumentData=function(e,a){return t.fire.collection(e).doc(a).get()},this.getByUsername=function(e){return t.fire.collection("users").doc(e).get()},console.log("TCL: Firebase -> constructor"),w.initializeApp(k),this.auth=w.auth(),this.fire=w.firestore()},N=function(){var e=Object(c.b)(),t=Object(n.useRef)();Object(n.useEffect)((function(){return t.current=C.auth.onAuthStateChanged((function(t){e(t?{type:"LOGIN_USER",payload:t}:{type:"LOGOUT_USER"})})),function(){t.current()}}),[])},S=a(193),D=a(201),T=a(15),P=a(3),L=a(29),R=a.n(L),A=a(43);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=function(e,t){return function(a){a({type:"START_LOADING"}),C.login(e,t).then((function(e){a({type:"STOP_LOADING"})})).catch((function(e){return a({type:"SET_ERROR",payload:e})}))}},W=function(){return function(e){C.logout().catch((function(t){return e({type:"SET_ERROR",payload:t})}))}},B=function(e){return function(t){return t({type:"SET_ERROR",payload:e})}},M=function(e){return function(t){return t({type:"SET_DARK_THEME",payload:e})}},U=function(e){return function(t){return t({type:"SET_DEV_MENU",payload:e})}},F=a(189),G=a(190),q=a(192),H=a(191),V=a(98),J=a.n(V),X=a(55),Y=a(188),K=a(63),$=a.n(K),Q=a(64),Z=a.n(Q),ee=a(96),te=a.n(ee),ae=a(214),ne=a(154),re=Object(ne.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:function(t){return Object(u.a)({marginLeft:t.drawerWidth},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(t.drawerWidth,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})})},menuButton:Object(u.a)({},e.breakpoints.up("sm"),{marginRight:36}),hide:Object(u.a)({},e.breakpoints.up("sm"),{display:"none"}),container:Object(u.a)({},e.breakpoints.down("xs"),{paddingRight:0}),title:{flexGrow:1},avatar:{margin:e.spacing(0,1),color:e.palette.secondary.contrastText,background:e.palette.secondary.main,"&:hover":{background:e.palette.secondary.dark},fontSize:"inherit",display:"inline-flex",boxShadow:"none","&:active":{boxShadow:"none"}}}})),oe=function(e){var t=e.open,a=e.drawerWidth,n=e.handleDrawerOpen,o=re({drawerWidth:a}),i=Object(c.b)(),l=Object(c.c)((function(e){return e.user.login})),s=Object(c.c)((function(e){return e.user.details})),m=Object(c.c)((function(e){return e.ui.settings.darkTheme}));return r.a.createElement(q.a,{position:"fixed",className:Object(P.a)(o.appBar,Object(u.a)({},o.appBarShift,t))},r.a.createElement(S.a,null,r.a.createElement(Y.a,{color:"inherit","aria-label":"open drawer",onClick:n,edge:"start",className:o.menuButton},r.a.createElement(J.a,null)),r.a.createElement(X.a,{variant:"h6",noWrap:!0,className:o.title},"Arduino Sensors"),r.a.createElement(ae.a,{title:m?"Light theme":"Dark theme",placement:"bottom"},r.a.createElement(Y.a,{color:"inherit",onClick:function(){return i(M(!m))}},m&&r.a.createElement($.a,null)||r.a.createElement(Z.a,null))),function(e){return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement("div",null,r.a.createElement(ae.a,{title:"Logout",placement:"bottom"},r.a.createElement(Y.a,{color:"inherit",onClick:function(){return function(){return i(W())}}},r.a.createElement(te.a,null))),r.a.createElement(F.a,{size:"small",className:o.avatar},r.a.createElement(G.a,{to:"/",component:y.b,underline:"none",color:"inherit",variant:"inherit"},r.a.createElement(X.a,{variant:"h6"},s.displayName))))||r.a.createElement(H.a,{component:y.b,to:"/login",color:"inherit"},"Log in"))}(l)))},ie=a(196),ce=a(213),le=a(195),se=a(197),ue=a(198),me=a(199),de=a(100),pe=a.n(de),fe=a(101),be=a.n(fe),ge=a(103),Ee=a.n(ge),he=a(102),ve=a.n(he),Oe=a(104),ye=a.n(Oe),je=a(99);function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ke=Object(je.a)((function(e){return{drawer:function(t){return Object(u.a)({width:t.drawerWidth,flexShrink:0,whiteSpace:"nowrap",position:"absolute"},e.breakpoints.up("sm"),{position:"initial"})},drawerOpen:function(t){return{width:t.drawerWidth,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),zIndex:e.zIndex.drawer+1}},drawerClose:function(t){return Object(u.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1})},toolbar:we({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),switchBtn:{marginLeft:-16,marginRight:16}}})),Ce=function(e){var t,a,n=e.open,o=e.drawerWidth,i=e.handleDrawerClose,c=ke({drawerWidth:o});return r.a.createElement(ce.a,{variant:"permanent",className:Object(P.a)(c.drawer,(t={},Object(u.a)(t,c.drawerOpen,n),Object(u.a)(t,c.drawerClose,!n),t)),classes:{paper:Object(P.a)("test",(a={},Object(u.a)(a,c.drawerOpen,n),Object(u.a)(a,c.drawerClose,!n),a))},open:n},r.a.createElement("div",{className:c.toolbar},r.a.createElement(Y.a,{onClick:i},r.a.createElement(pe.a,null))),r.a.createElement(le.a,null),r.a.createElement(ie.a,null,r.a.createElement(se.a,{button:!0,component:y.b,to:"/"},r.a.createElement(ue.a,null,r.a.createElement(be.a,null)),r.a.createElement(me.a,{primary:"Dashboard"})),r.a.createElement(se.a,{button:!0,component:y.b,to:"/dev"},r.a.createElement(ue.a,null,r.a.createElement(ve.a,null)),r.a.createElement(me.a,{primary:"Developer"})),r.a.createElement(se.a,{button:!0,component:y.b,to:"/settings"},r.a.createElement(ue.a,null,r.a.createElement(Ee.a,null)),r.a.createElement(me.a,{primary:"Settings"}))),r.a.createElement(le.a,null),r.a.createElement(ie.a,null,r.a.createElement(se.a,{button:!0,component:y.b,to:"/about"},r.a.createElement(ue.a,null,r.a.createElement(ye.a,null)),r.a.createElement(me.a,{primary:"About"}))))},Ne=function(){var e=Object(n.useState)(!1),t=Object(T.a)(e,2),a=t[0],o=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,{open:a,drawerWidth:240,handleDrawerOpen:function(){o(!0)}}),r.a.createElement(Ce,{open:a,drawerWidth:240,handleDrawerClose:function(){o(!1)}}))},Se=a(210),De=function(){return r.a.createElement(Se.a,{mt:8},r.a.createElement(X.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(y.b,{color:"inherit",to:"https://material-ui.com/"},"Arduino Sensors")," ",(new Date).getFullYear(),"."))},Te=a(211),Pe=Object(je.a)((function(e){return{page:{position:"absolute",left:15,right:15},pageEnter:{opacity:0,transform:"scale(1.1)"},pageEnterActive:function(e){return{opacity:1,transform:"scale(1)",transition:"opacity ".concat(e.timeout.enter,"ms, transform ").concat(e.timeout.enter,"ms")}},pageExit:{opacity:1,transform:"scale(1)"},pageExitActive:function(e){return{opacity:0,transform:"scale(0.9)",transition:"opacity ".concat(e.timeout.exit,"ms, transform ").concat(e.timeout.exit,"ms")}}}})),Le={appear:0,enter:1e3,exit:300},Re=function(e){var t=e.match,a=e.children,n=Pe({timeout:Le});return r.a.createElement(Te.a,{in:null!=t,timeout:Le,unmountOnExit:!0,classNames:{enter:n.pageEnter,enterActive:n.pageEnterActive,exit:n.pageExit,exitActive:n.pageExitActive}},r.a.createElement("div",{className:n.page},a))},Ae=a(194),Ie=a(200),_e=Object(je.a)((function(e){return{button:{position:"relative",margin:e.spacing(3,0,2)},progressWrapper:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}}})),ze=function(e){var t=e.loading,a=e.children,n=_e();return r.a.createElement(H.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.button,disabled:t},t&&r.a.createElement(Ae.a,{in:t,style:{transitionDelay:t?"800ms":"0ms"},unmountOnExit:!0},r.a.createElement("div",{className:n.progressWrapper},r.a.createElement(Ie.a,{size:30}))),a)},We=a(202),Be=a(209),Me=a(66),Ue=a.n(Me),Fe=Object(je.a)((function(e){var t;return{paper:(t={marginTop:e.spacing(1)},Object(u.a)(t,e.breakpoints.up("sm"),{marginTop:e.spacing(8)}),Object(u.a)(t,"display","flex"),Object(u.a)(t,"flexDirection","column"),Object(u.a)(t,"alignItems","center"),t),avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},info:Object(u.a)({textAlign:"right"},e.breakpoints.down("xs"),{textAlign:"center"})}})),Ge=function(){var e=Fe(),t=Object(j.f)(),a=Object(c.b)(),o=Object(c.c)((function(e){return e.user.login})),i=Object(c.c)((function(e){return e.ui.loading})),l=Object(c.c)((function(e){return e.ui.error})),s=Object(n.useMemo)((function(){return function(e){var t,a,n;return e&&(/email/.test(e)||/user/.test(e)?t=!0:/password/.test(e)?a=!0:n=!0),[t,a,n]}(l.code)}),[l.code]),u=Object(T.a)(s,3),m=u[0],d=u[1],p=u[2];Object(n.useEffect)((function(){a((function(e){return e({type:"CLEAR_ERROR"})}))}),[]),Object(n.useEffect)((function(){o&&t.push("/")}),[o]);return r.a.createElement(D.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:e.paper},r.a.createElement(We.a,{className:e.avatar},r.a.createElement(Ue.a,null)),r.a.createElement(X.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault();var t=e.target;a(z(t.email.value,t.password.value))}},r.a.createElement(Be.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,error:m,helperText:m&&l.message}),r.a.createElement(Be.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:d,helperText:d&&l.message}),r.a.createElement(X.a,{variant:"h6",align:"center",color:"secondary"},p&&l.message),r.a.createElement(ze,{loading:i},"Log In"),r.a.createElement("div",{className:e.info},r.a.createElement(G.a,{component:y.b,to:"/signup",variant:"body2"},"Don't have an account? Sign Up")))))},qe=a(204),He=a(203),Ve=function(e){return console.log("TCL: object",JSON.stringify(e,null,2))},Je=function(e){return Math.floor(Math.random()*e)},Xe=function(){var e=Fe(),t=Object(j.f)(),a=Object(c.b)(),o=Object(c.c)((function(e){return e.ui.error})),i=Object(c.c)((function(e){return e.ui.loading})),l=Object(He.a)("(max-width:599.99px)"),s=Object(n.useState)({}),u=Object(T.a)(s,2),m=u[0],d=u[1],p=Object(n.useMemo)((function(){return function(e){var t,a,n,r;return console.log("TCL: getErrorControl"),e&&(/username/.test(e)?t=!0:/email/.test(e)?a=!0:/password/.test(e)?n=!0:r=!0),[t,a,n,r]}(o.code)}),[o.code]),f=Object(T.a)(p,4),b=f[0],g=f[1],E=f[2],h=f[3];Object(n.useEffect)((function(){a((function(e){return e({type:"CLEAR_ERROR"})}))}),[]);return r.a.createElement(D.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:e.paper},r.a.createElement(We.a,{className:e.avatar},r.a.createElement(Ue.a,null)),r.a.createElement(X.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault();var n,r=e.target,o=r.firstName.value,i=r.lastName.value,c=r.username.value,l=r.email.value,s=r.password.value,u=r.confirmPassword.value,m="Field is required",p={};if(!o&&(p.firstName=m),!i&&(p.lastName=m),!c&&(p.username=m),!l&&(p.email=m),!s&&(p.password=m),!u&&(p.confirmPassword=m),s!==u&&(p.password="Password mismatch",p.confirmPassword="Password mismatch"),n=p,Object.keys(n).length)return d(p);d({}),a(function(e,t){return function(){var a=Object(A.a)(R.a.mark((function a(n){var r,o,i;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"START_LOADING"}),a.next=4,fetch("/username/".concat(e.username));case 4:return r=a.sent,a.next=7,r.json();case 7:if(!a.sent.success){a.next=10;break}throw{code:"username",message:"Username already taken."};case 10:return a.next=12,C.signup(e.email,e.password);case 12:return o=a.sent,i=e.firstName[0]+e.lastName[0],o.user.updateProfile({displayName:i}),n({type:"STOP_LOADING"}),delete e.password,a.next=19,C.addDocumentData("users",e.username,_({},e,{uid:o.user.uid}));case 19:t.push("/"),a.next=26;break;case 22:a.prev=22,a.t0=a.catch(0),console.log("TCL: signupAction -> err",a.t0),n({type:"SET_ERROR",payload:a.t0});case 26:case"end":return a.stop()}}),a,null,[[0,22]])})));return function(e){return a.apply(this,arguments)}}()}({firstName:o,lastName:i,username:c,email:l,password:s},t))}},r.a.createElement(qe.a,{container:!0,spacing:l?0:2},r.a.createElement(qe.a,{item:!0,xs:12,sm:6},r.a.createElement(Be.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"firstName",label:"First Name",id:"firstName",autoComplete:"fname",autoFocus:!0,error:!!m.firstName,helperText:m.firstName})),r.a.createElement(qe.a,{item:!0,xs:12,sm:6},r.a.createElement(Be.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",error:!!m.lastName,helperText:m.lastName}))),r.a.createElement(Be.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,id:"username",name:"username",label:"Username",autoComplete:"username",error:!!m.username||b,helperText:m.username||b&&o.message}),r.a.createElement(Be.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",error:!!m.email||g,helperText:m.email||g&&o.message}),r.a.createElement(Be.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:!!m.password||E,helperText:m.password||E&&o.message}),r.a.createElement(Be.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",error:!!m.confirmPassword,helperText:m.confirmPassword}),r.a.createElement(X.a,{variant:"h6",align:"center",color:"secondary"},h&&o.message),r.a.createElement(ze,{loading:i},"Sign up"),r.a.createElement("div",{className:e.info},r.a.createElement(G.a,{component:y.b,to:"/login",variant:"body2"},"Already have an account? Log in")))))},Ye=a(54),Ke=a.n(Ye),$e=a(107),Qe=a.n($e),Ze=a(108),et=a.n(Ze),tt=a(67),at=a.n(tt),nt=a(153),rt=a(105),ot=a.n(rt).a[100],it=Object(je.a)((function(e){return{root:{height:"100%",padding:e.spacing(2),display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},title:{alignSelf:"flex-start"},back:{color:ot,position:"absolute"},primary:function(t){return{color:t.colors&&t.colors[0]||e.palette.primary.main}},error:function(t){return{color:t.colors&&t.colors[1]||e.palette.secondary.main}},center:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},footer:{width:"100%",textAlign:"center",display:"flex",justifyContent:"space-around",alignItems:"center"}}})),ct=function(e){var t,a,o=e.title,i=e.symbol,c=e.size,l=e.value,s=e.valueError,m=e.priColor,d=e.secColor;console.log("TCL: SensorMeter");var p=it({colors:[m,d]}),f=Object(n.useState)(l),b=Object(T.a)(f,2),g=b[0],E=b[1],h=Object(n.useState)(l),v=Object(T.a)(h,2),O=v[0],y=v[1],j=l>=s,x=String.fromCharCode(i);return Object(n.useEffect)((function(){console.log("TCL: SensorMeter -> useEffect"),l<g?E(l):l>O&&y(l)}),[l]),r.a.createElement("div",{className:p.root},r.a.createElement(X.a,{paragraph:!0,variant:"subtitle1",className:p.title},o),r.a.createElement(Se.a,{position:"relative",mb:2},r.a.createElement(Ie.a,{variant:"static",thickness:2,style:{top:.01*c,left:.01*c,height:.48*c,width:.48*c},value:100,className:p.back}),r.a.createElement(Ie.a,{variant:"static",size:.5*c,value:l,className:Object(P.a)((t={},Object(u.a)(t,p.primary,!j),Object(u.a)(t,p.error,j),t))}),r.a.createElement(X.a,{variant:"h4",style:{marginLeft:i?8:0},className:Object(P.a)(p.center,(a={},Object(u.a)(a,p.primary,!j),Object(u.a)(a,p.error,j),a))},l+x)),r.a.createElement("div",{className:p.footer},r.a.createElement("div",null,r.a.createElement(X.a,{variant:"body1"},O+x),r.a.createElement(X.a,{variant:"body2"},"Max")),r.a.createElement("div",null,r.a.createElement(X.a,{variant:"body1"},g+x),r.a.createElement(X.a,{variant:"body2"},"Min"))))},lt=a(35),st=a.n(lt),ut=a(106),mt=a.n(ut),dt=function(e){var t=e.color||st.a.getOptions().colors[0];return{chart:{height:"30%",margin:50,backgroundColor:"transparent",style:{fontFamily:"Roboto"}},time:{timezoneOffset:-60},title:{text:e.title},legend:{enabled:!1},xAxis:{type:"datetime",tickWidth:0,labels:{format:"{value: %H:%M:%S}",align:"right",rotation:-45},minPadding:.03,maxPadding:.03},yAxis:{title:{text:null},labels:{formatter:function(){return this.value+(String.fromCharCode(e.symbol)||"")}},plotBands:[{color:st.a.Color(e.band&&e.band.color).setOpacity(.2).get("rgba"),from:e.band&&e.band.from||0,to:e.band&&e.band.to||0,label:{text:e.band&&e.band.text||"region",align:"right",verticalAlign:"top",y:-10,x:-10}}]},tooltip:{crosshairs:!0,shared:!0},plotOptions:{areaspline:{pointStart:(new Date).getTime(),fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,st.a.Color(t).setOpacity(.6).get("rgba")],[1,st.a.Color(t).setOpacity(0).get("rgba")]]},marker:{radius:3,lineWidth:2,lineColor:"#fff",fillColor:t},lineWidth:2,lineColor:{linearGradient:{x1:1,x2:0,y1:1,y2:1},stops:[[0,t],[1,st.a.Color(t).setOpacity(0).get("rgba")]]},states:{hover:{lineWidth:1}},threshold:null}},series:[{type:"areaspline",name:e.device,data:[]}]}},pt=function(e){var t=e.title,a=e.data,o=e.maxItems,i=e.device,c=e.symbol,l=e.color,s=e.band;console.log("TCL: Chart -> data",a),console.log("TCL: Chart");var u=Object(n.useRef)(),m=Object(n.useState)(dt({title:t,device:i,symbol:c,color:l,band:s})),d=Object(T.a)(m,1)[0];return Object(n.useEffect)((function(){console.log("TCL: ChartControl -> useEffect");var e=a&&a.x||(new Date).getTime(),t=a&&a.y||0,n=u.current&&u.current.chart.series[0]||null;n&&n.data.length>=o?n.addPoint([e,t],!0,!0):n.addPoint([e,t])}),[a,o]),r.a.createElement(mt.a,{highcharts:st.a,options:d,ref:u})},ft=Object(je.a)((function(e){return{paper:{padding:e.spacing(2)}}})),bt=function(e){var t=e.title,a=void 0===t?null:t,n=e.size,o=void 0===n?300:n,i=e.symbol,c=void 0===i?null:i,l=e.priColor,s=void 0===l?null:l,u=e.secColor,m=void 0===u?null:u,d=e.elevation,p=void 0===d?4:d,f=e.valueError,b=void 0===f?50:f,g=e.device,E=void 0===g?"Device 1":g,h=e.data,v=void 0===h?null:h,O=e.maxItems,y=void 0===O?10:O,j=e.chartBand,x=void 0===j?null:j,w=e.chartTitle,k=void 0!==w&&w;console.log("TCL: DataView");var C=ft();return r.a.createElement(nt.a,{elevation:p,className:C.paper},r.a.createElement(qe.a,{container:!0},r.a.createElement(qe.a,{item:!0,xs:12,sm:3},r.a.createElement(ct,{size:o,title:a,value:v&&v.y||0,symbol:c,priColor:s,secColor:m,valueError:b})),r.a.createElement(qe.a,{item:!0,xs:12,sm:9},r.a.createElement(pt,{title:k&&a||null,data:v,symbol:c,device:E,band:x,color:s,maxItems:y}))))},gt=Object(je.a)((function(e){return{dev:{padding:e.spacing(2),display:"inline-block",position:"absolute",top:0,right:0,zIndex:999,color:"#FFF"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,background:"#000",opacity:.6,zIndex:-1},button:{margin:e.spacing(1)}}})),Et=function(){var e=Object(A.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.addData("sensors",{arduino:0,co2:Je(20),date:new Date,humidity:Je(100),temperature:Je(50)});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),Ve(e.t0),t({type:"SET_ERROR",payload:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),ht=function(){console.log("TCL: Dashboard -> Dashboard");var e=gt(),t=Object(j.f)(),a=Object(c.b)(),o=Object(n.useRef)(),i=Object(c.c)((function(e){return e.user.login})),l=Object(c.c)((function(e){return e.ui.settings})),s=Object(n.useState)({}),u=Object(T.a)(s,2),m=u[0],d=u[1],p=m.arduino,f=m.temperature,b=m.humidity,g=m.co2,E=m.date;return Object(n.useEffect)((function(){return console.log("TCL: Dashboard -> useEffect 1"),i?(console.log("TCL: Dashboard -> useEffect 2"),o.current=C.fire.collection("sensors").orderBy("date","desc").limit(10).onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=e.doc.data();d({arduino:t.arduino,temperature:t.temperature,humidity:t.humidity,co2:t.co2,date:t.date})}}))}),(function(e){return console.log("TCL: Dashboard -> childAddedListener -> error:",e)}))):t.push("/login"),function(){o.current&&o.current()}}),[i]),r.a.createElement("div",null,E&&l.devMenu&&r.a.createElement("div",{className:e.dev},r.a.createElement("div",{className:e.overlay}),r.a.createElement(qe.a,{container:!0},r.a.createElement(qe.a,{item:!0},r.a.createElement(H.a,{variant:"contained",className:e.button,onClick:function(){return Et(a)}},"Add data")),r.a.createElement(qe.a,{item:!0},r.a.createElement("ul",null,r.a.createElement("li",null,"arduino: ",p),r.a.createElement("li",null,"temperature: ",f),r.a.createElement("li",null,"humidity: ",b),r.a.createElement("li",null,"co2: ",g),r.a.createElement("li",null,"date:"," ",E&&E.seconds&&new Date(1e3*E.seconds).toLocaleString()||"no date"))))),m.date&&r.a.createElement(qe.a,{container:!0,direction:"column",spacing:3},r.a.createElement(Ae.a,{in:!0,timeout:1e3,style:{transitionDelay:"500ms"}},r.a.createElement(qe.a,{item:!0},r.a.createElement(bt,{size:300,elevation:12,title:"Temperature",symbol:176,data:{x:1e3*E.seconds,y:f},priColor:at.a[600],maxItems:10,valueError:30,chartBand:{color:Ke.a[200],from:18,to:35}}))),r.a.createElement(Ae.a,{in:!0,timeout:1e3,style:{transitionDelay:"750ms"}},r.a.createElement(qe.a,{item:!0},r.a.createElement(bt,{size:300,elevation:12,title:"Humidity",symbol:176,data:{x:1e3*E.seconds,y:b},priColor:Qe.a[700],maxItems:10,valueError:30,chartBand:{color:Ke.a[200],from:40,to:80}}))),r.a.createElement(Ae.a,{in:!0,timeout:1e3,style:{transitionDelay:"1000ms"}},r.a.createElement(qe.a,{item:!0},r.a.createElement(bt,{size:300,elevation:12,title:"CO2",symbol:176,data:{x:1e3*E.seconds,y:g},priColor:et.a[600],maxItems:10,valueError:30,chartBand:{color:Ke.a[200],from:8,to:16}})))))},vt=a(205),Ot=a(206),yt=a(109),jt=a.n(yt),xt=a(215),wt=Object(je.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}})),kt=function(){var e=wt(),t=Object(c.b)(),a=Object(c.c)((function(e){return e.ui.settings}));return r.a.createElement(nt.a,{elevation:12,className:e.root},r.a.createElement(ie.a,{subheader:r.a.createElement(vt.a,null,"Settings")},r.a.createElement(se.a,null,r.a.createElement(ue.a,null,a.darkTheme&&r.a.createElement($.a,null)||r.a.createElement(Z.a,null)),r.a.createElement(me.a,{primary:"Dark theme"}),r.a.createElement(Ot.a,null,r.a.createElement(xt.a,{edge:"end",onChange:function(){return t(M(!a.darkTheme))},checked:a.darkTheme}))),r.a.createElement(se.a,null,r.a.createElement(ue.a,null,r.a.createElement(jt.a,null)),r.a.createElement(me.a,{primary:"Developer menu"}),r.a.createElement(Ot.a,null,r.a.createElement(xt.a,{edge:"end",onChange:function(){return t(U(!a.devMenu))},checked:a.devMenu})))))},Ct=Object(je.a)((function(e){return{button:{margin:e.spacing(1)}}})),Nt=function(){var e=Object(A.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.signin("IB","ivan1.brajkovic@icloud.com","123456789");case 3:St(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("logoutHandler -> err",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),St=function(){var e=C.getCurrentUser();console.log("Currently logged user:",e?e.displayName?e.displayName:e.email:"none")},Dt=function(){var e=Object(A.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.addData("sensors",null);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),Ve(e.t0),t(B(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Tt=function(){var e=Ct(),t=Object(c.b)(),a=Object(c.c)((function(e){return e.ui.settings})),o=Object(n.useRef)(),i=Object(n.useState)(!1),l=Object(T.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)({x:(new Date).getTime(),y:0}),d=Object(T.a)(m,2),p=d[0],f=d[1],b={color:Ke.a[200],from:10,to:35};return r.a.createElement("div",null,r.a.createElement(H.a,{variant:"contained",className:e.button,onClick:function(){return t(z("ivan.brajkovic@icloud.com","123456789"))}},"Login"),r.a.createElement(H.a,{variant:"contained",className:e.button,onClick:function(){return t(W())}},"Logout"),r.a.createElement(H.a,{variant:"contained",className:e.button,onClick:St},"Get user"),r.a.createElement(H.a,{variant:"contained",className:e.button,onClick:Nt},"New user"),r.a.createElement(H.a,{variant:"contained",className:e.button,onClick:function(){return Dt(t)}},"Add data"),r.a.createElement(H.a,{variant:"contained",className:e.button,onClick:function(){return t(M(!a.darkTheme))}},"Dark teme"),r.a.createElement(H.a,{variant:"contained",className:e.button,onClick:function(){return t(U(!a.devMenu))}},"Dev menu"),r.a.createElement(H.a,{variant:"contained",className:e.button,onClick:function(e){s?(clearInterval(o.current),u(!1)):(o.current=setInterval((function(){var e=(new Date).getTime(),t=Math.floor(50*Math.random())+1;f({x:e,y:t})}),2e3),u(!0))}},s?"Stop":"Start"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(bt,{size:300,elevation:12,title:"Temperature",symbol:176,data:p,maxItems:10,valueError:30,priColor:at.a[400],secColor:null,chartBand:b,showChartTitle:!1})))};function Pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Lt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pt(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Rt=Object(je.a)((function(e){var t=e.palette.text.secondary,a="rgba(0, 0, 0, 0.12)",n={height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",backfaceVisibility:"hidden",backgroundColor:"#FFF",borderRadius:4},r={fontSize:"1.4rem",textTransform:"capitalize"};return{container:{width:295,height:420,perspective:1500,"&:hover $card":{zIndex:5,visibility:"visible",transform:"rotateY(180deg)"}},card:{height:"100%",position:"relative",textAlign:"center",borderRadius:4,transition:"transform .5s",transformStyle:"preserve-3d",boxShadow:[["0px 5px 5px -3px rgba(0,0,0,0.2)"],["0px 8px 10px 1px rgba(0,0,0,0.14)"],["0px 3px 14px 2px rgba(0,0,0,0.12)"]]},front:Lt({},n),cover:{height:105,overflow:"hidden",borderRadius:"4px 4px 0 0","& img":{width:"100%",height:"auto"}},user:{width:120,height:120,margin:"-55px auto 0 auto","& img":{width:"100%",borderRadius:"50%",border:"4px solid #fff"}},title:Lt({},r,{margin:0}),subtitle:{color:t,marginTop:0,marginBottom:16},content:{height:"100%",padding:"10px 20px"},divider:{border:"none",margin:"0 20px",height:1,flexShrink:0,background:a},footer:{color:t,padding:"10px 0",display:"flex",justifyContent:"center",alignItems:"center"},back:Lt({},n,{position:"absolute",top:0,left:0,transform:"rotateY( 180deg )",zIndex:3}),backHeader:{padding:"15px 20px",height:"90px","& p":{margin:"5px 0",color:t,fontSize:13},"& p span":{display:"block",textAlign:"right"}},backTitle:Lt({},r,{margin:"10px 0"}),stats:{margin:"10px 20px 20px 20px",display:"flex",justifyContent:"center","& div":{width:"100%","&:nth-child(2)":{borderLeft:"1px solid ".concat(a),borderRight:"1px solid ".concat(a)},"& > p":{fontSize:18,margin:"5px 0 0 0"},"& > p + p":{margin:"0 0 5px 0",fontSize:14,color:t}}}}})),At=a(110),It=a.n(At),_t=a(112),zt=a.n(_t),Wt=a(113),Bt=a.n(Wt),Mt=a(114),Ut=a.n(Mt),Ft=a(111),Gt=a.n(Ft),qt=function(e){var t=e.front,a=void 0===t?{}:t,n=e.back,o=void 0===n?{}:n,i=e.social,c=void 0===i?{}:i,l=Rt();return console.log("TCL: Card ->  process.env.PUBLIC_URL","/arduino-sensors-react-redux-firestore"),r.a.createElement("div",{className:l.container},r.a.createElement("div",{className:l.card},r.a.createElement("div",{className:l.front},r.a.createElement("div",{className:l.header},r.a.createElement("div",{className:l.cover},r.a.createElement("img",{src:a.cover,alt:"Cover"})),r.a.createElement("div",{className:l.user},r.a.createElement("img",{src:a.user,alt:"User"}))),r.a.createElement("div",{className:l.content},r.a.createElement("p",{className:l.title},a.title),r.a.createElement("p",{className:l.subtitle},a.subtitle),r.a.createElement("p",null,r.a.createElement("em",null,a.text))),r.a.createElement("div",{className:l.divider}),r.a.createElement("div",{className:l.footer},r.a.createElement(It.a,null),"More info")),r.a.createElement("div",{className:l.back},r.a.createElement("div",{className:l.backHeader},o.header),r.a.createElement("div",{className:l.divider}),r.a.createElement("div",{className:l.content},r.a.createElement("div",null,r.a.createElement("p",{className:l.backTitle},o.title),r.a.createElement("p",null,o.text))),r.a.createElement("div",{className:l.stats},r.a.createElement("div",null,r.a.createElement("p",null,"235"),r.a.createElement("p",null,"Followers")),r.a.createElement("div",null,r.a.createElement("p",null,"114"),r.a.createElement("p",null,"Following")),r.a.createElement("div",null,r.a.createElement("p",null,"35"),r.a.createElement("p",null,"Projects"))),r.a.createElement("div",{className:l.divider}),r.a.createElement("div",{className:l.footer},r.a.createElement(Y.a,{href:c.github,color:"primary"},r.a.createElement(Gt.a,null)),r.a.createElement(Y.a,{href:c.facebook,color:"primary"},r.a.createElement(zt.a,null)),r.a.createElement(Y.a,{href:c.linkedin,color:"primary"},r.a.createElement(Bt.a,null)),r.a.createElement(Y.a,{href:c.twitter,color:"primary"},r.a.createElement(Ut.a,null))))))},Ht={front:{cover:"https://picsum.photos/720/500?image=1044",user:"".concat("/arduino-sensors-react-redux-firestore","/img/ivan.jpg"),title:"Ivan Brajkovi\u0107",subtitle:"dev. net.spec.",text:"HT-specijalista za upravljanje uslugama, CCNA specijalist za mre\u017ee, izvanredni student Fakulteta Informatike u Puli u sklopu Sveu\u010dili\u0161ta Jurja Dobrile u Puli."},back:{header:r.a.createElement("p",null,'"The thing about smart people is that thay seem like crazy people to dumb people."',r.a.createElement("span",null,r.a.createElement("small",null,"- Stephen Hawknig"))),title:"Lorem, ipsum.",text:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci, quod."},social:{github:"https://github.com/ivbrajkovic"}},Vt={front:{cover:"https://unsplash.it/720/500?image=1067",user:"".concat("/arduino-sensors-react-redux-firestore","/img/slaven.jpg"),title:"Slaven Sok\u010devi\u0107",subtitle:"student",text:"Izvanredni student Fakulteta Informatike u Puli u sklopu Sveu\u010dili\u0161ta Jurja Dobrile u Puli."},back:{title:"Lorem, ipsum.",text:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci, quod."}},Jt={front:{cover:"https://picsum.photos/720/500?image=1056",user:"".concat("/arduino-sensors-react-redux-firestore","/img/aleksandar.jpg"),title:"Aleksandar rakas",subtitle:"teh. student",text:"HT-tehni\u010dki odjel za korisni\u010dko iskustvo, izvanredni student Fakulteta Informatike u Puli u sklopu Sveu\u010dili\u0161ta Jurja Dobrile u Puli."},back:{title:"Lorem, ipsum.",text:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci, quod."}},Xt=[{name:"Login",path:"/login",Component:Ge},{name:"Signup",path:"/signup",Component:Xe},{name:"Dashboard",path:"/",Component:ht},{name:"Settings",path:"/settings",Component:kt},{name:"Dev",path:"/dev",Component:Tt},{name:"About",path:"/about",Component:function(){var e=Object(He.a)("(max-width:599.99px)");return r.a.createElement(Se.a,{mt:e?3:6},r.a.createElement(qe.a,{container:!0,spacing:4,justify:"space-around"},r.a.createElement(qe.a,{item:!0},r.a.createElement(qt,Ht)),r.a.createElement(qe.a,{item:!0},r.a.createElement(qt,Vt)),r.a.createElement(qe.a,{item:!0},r.a.createElement(qt,Jt))))}}],Yt=function(){return Xt.map((function(e){var t=e.path,a=(e.name,e.Component);e.privateRoute;return r.a.createElement(j.a,{key:t,exact:!0,path:t},(function(e){var t=e.match;return r.a.createElement(Re,{match:t},r.a.createElement(a,null),r.a.createElement(De,null))}))}))},Kt=Object(je.a)((function(e){return{root:{display:"flex"},marginLeft:Object(u.a)({marginLeft:e.spacing(7)+1},e.breakpoints.up("sm"),{marginLeft:"auto"}),pageContainer:{flexGrow:1,position:"relative",padding:e.spacing(3)}}})),$t=function(){var e=Kt();return N(),r.a.createElement("div",{className:e.root},r.a.createElement(y.a,{basename:"/arduino-sensors-react-redux-firestore"},r.a.createElement(Ne,null),r.a.createElement(D.a,{component:"main",className:"".concat(e.pageContainer," ").concat(e.marginLeft)},r.a.createElement(S.a,null),r.a.createElement(j.c,null,r.a.createElement(Yt,null)))))},Qt=a(115),Zt=a(207),ea=function(e){var t=e.children,a=Object(c.c)((function(e){return e.ui.settings.darkTheme})),n=Object(Qt.a)({palette:{type:"".concat(a?"dark":"light")},overrides:{MuiButton:{text:{color:"inherit"}},MuiListItem:{gutters:{"@media (min-width: 600px)":{paddingLeft:"24px"}}}}});return r.a.createElement(Zt.a,{theme:n},t)},ta=(a(150),Object(l.e)(v,Object(l.d)(Object(l.a)(s.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())));i.a.render(r.a.createElement(c.a,{store:ta},r.a.createElement(ea,null,r.a.createElement(O.a,null),r.a.createElement($t,null))),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.5d13d97d.chunk.js.map